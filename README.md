# asyncio와 웹소켓 기초부터 고급까지

이 프로젝트는 Python의 asyncio와 웹소켓을 사용한 비동기 프로그래밍을 단계적으로 학습할 수 있도록 구성되었습니다.

## 📚 학습 순서

### 1. asyncio 기초 (`01_asyncio_basics.py`)

- 비동기 프로그래밍의 기본 개념
- 코루틴, 이벤트 루프, Task 객체
- 동시 실행과 순차 실행의 차이
- 타임아웃과 작업 취소

### 2. 웹소켓 기초 (`02_websocket_basics.py`)

- 웹소켓 서버와 클라이언트 구현
- 메시지 브로드캐스트
- 연결 관리와 오류 처리
- JSON 메시지 처리

### 3. 실시간 채팅 애플리케이션 (`03_realtime_chat.py`)

- asyncio와 웹소켓을 결합한 실전 예제
- 사용자 관리와 메시지 히스토리
- 하트비트 모니터링
- 대화형 클라이언트

### 4. 고급 웹소켓 애플리케이션 (`04_advanced_websocket.py`)

- 실시간 데이터 스트리밍
- 데이터 처리와 집계
- 이상치 탐지와 임계값 모니터링
- 서버 메트릭과 부하 관리

## 🚀 설치 및 실행

### 1. 의존성 설치

```bash
pip install -r requirements.txt
```

### 2. 예제 실행

#### asyncio 기초 학습

```bash
python 01_asyncio_basics.py
```

#### 웹소켓 기초 학습

```bash
python 02_websocket_basics.py
```

#### 실시간 채팅 (서버)

```bash
python 03_realtime_chat.py
# 선택: 1 (서버 실행)
```

#### 실시간 채팅 (클라이언트)

```bash
python 03_realtime_chat.py
# 선택: 2 (클라이언트 실행)
```

#### 고급 웹소켓 (서버)

```bash
python 04_advanced_websocket.py
# 선택: 1 (서버 실행)
```

#### 고급 웹소켓 (클라이언트)

```bash
python 04_advanced_websocket.py
# 선택: 2 (기본 클라이언트) 또는 3 (분석 클라이언트)
```

## 📖 주요 개념

### asyncio 핵심 개념

- **Coroutine**: `async def`로 정의된 비동기 함수
- **Event Loop**: 비동기 작업들을 관리하는 루프
- **await**: 다른 코루틴의 완료를 기다림
- **Task**: 실행 중인 코루틴을 관리하는 객체

### 웹소켓 핵심 개념

- **Handshake**: 클라이언트와 서버 간 연결 설정
- **Frame**: 데이터 전송의 기본 단위
- **Ping/Pong**: 연결 상태 확인 메커니즘
- **Close**: 연결 종료 프로세스

### 실무 활용 패턴

- **Connection Pooling**: 연결 재사용으로 성능 최적화
- **Message Queuing**: 메시지 순서 보장과 배치 처리
- **Load Balancing**: 여러 서버 간 부하 분산
- **Monitoring**: 실시간 메트릭 수집과 알림

## 🔧 고급 기능

### 1. 실시간 데이터 스트리밍

- 센서 데이터, 시스템 메트릭, 사용자 활동 등 다양한 데이터 소스
- 실시간 처리와 집계
- 이상치 탐지와 임계값 모니터링

### 2. 연결 관리

- 자동 재연결
- 하트비트 모니터링
- 연결 풀 관리

### 3. 성능 최적화

- 비동기 I/O 활용
- 메시지 배치 처리
- 메모리 효율적인 데이터 구조

### 4. 오류 처리

- 연결 끊김 감지
- 자동 재시도
- 우아한 서비스 중단

## 🎯 실무 적용 사례

### 1. 실시간 채팅 시스템

- 다중 사용자 지원
- 메시지 히스토리
- 사용자 상태 관리

### 2. IoT 데이터 수집

- 센서 데이터 실시간 수집
- 데이터 전처리와 필터링
- 이상 상황 알림

### 3. 금융 데이터 스트리밍

- 실시간 시장 데이터
- 고빈도 거래 처리
- 위험 관리

### 4. 시스템 모니터링

- 서버 성능 메트릭
- 로그 스트리밍
- 알림 시스템

## 📝 학습 팁

1. **단계별 학습**: 각 파일을 순서대로 실행해보세요
2. **코드 수정**: 예제 코드를 수정하며 실험해보세요
3. **디버깅**: 로그를 통해 비동기 작업의 흐름을 파악하세요
4. **성능 측정**: 시간 측정을 통해 동기/비동기의 차이를 확인하세요

## 🐛 문제 해결

### 일반적인 문제들

1. **ImportError: No module named 'websockets'**

   ```bash
   pip install websockets
   ```

2. **연결 거부 오류**

   - 서버가 실행 중인지 확인
   - 포트 번호가 올바른지 확인

3. **메모리 사용량 증가**
   - 연결이 제대로 해제되는지 확인
   - 메시지 히스토리 크기 제한

## 📚 추가 학습 자료

- [Python asyncio 공식 문서](https://docs.python.org/3/library/asyncio.html)
- [WebSocket RFC 6455](https://tools.ietf.org/html/rfc6455)
- [websockets 라이브러리 문서](https://websockets.readthedocs.io/)

## 🤝 기여하기

이 프로젝트에 기여하고 싶으시다면:

1. 이슈를 생성하여 개선 사항을 제안하세요
2. 풀 리퀘스트를 통해 코드 개선을 제안하세요
3. 새로운 예제나 사용 사례를 추가하세요

---

**Happy Coding! 🚀**
